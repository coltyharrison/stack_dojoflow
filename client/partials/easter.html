<style>
body {
    background-image: url('images/easterbunny.jpg');
    background-size: 20%;
    background-repeat:repeat;
}
</style>
<div class='ui container'>
    <nav-bar></nav-bar>
    <div class="ui segment center aligned">
        <img height="110" src="images/peep.gif">
        <img height="110" src="images/jackoverflow.png">
        <img height="110" src="images/peep.gif">
    </div>
    <h2>Questions</h2>
    <p>Sort By: <a href="" ng-click="sortQuestion = '-posted_at'">Recent</a> | <a href="" ng-click="sortQuestion = '-upvotes.length'">Popular</a></p>
    <div class="ui grid">
        <div class="twelve wide column">
            <div id='popular_questions'>
                <table class="ui teal celled table">
                    <thead>
                        <tr>
                            <th>Question</th>
                            <th>Topic</th>
                            <th>Ninja Who Posted</th>
                            <th>Posted Date</th>
                            <th>Upvotes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat='question in questions | orderBy : sortQuestion'>
                            <td><a href="#!/question/{{question._id}}">{{question.title}}</a></td>
                            <td><a href="#!/topic/{{question.topic}}">{{topicNames[question.topic]}}</a></td>
                            <td>
                                <h4 class="ui image header">
                            <img src="{{question._user.avatar_url}}" class="ui mini rounded image">
                            <div class="content">
                                <a href='#!/user/{{question._user.id}}'>{{question._user.name}}</a>
                                <div class="sub header">Current Stack</div>
                            </div></h4>
                            </td>
                            <td>{{question.posted_at | date:'medium'}}</td>
                            <td>{{question.upvotes.length}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="four wide column">
            <div id='popular_topics' class="ui teal card">
                <div class="content">
                    <div class="header">Popular Topics</div>
                </div>
                <div class="content">
                    <div class="ui small feed">
                        <div class="event" ng-repeat='topic in topics | orderBy:"-questions"'>
                            <div class="content">
                                <div class="summary">
                                    <a href='#!/topic/{{topic.topic}}'>{{topic.name}}</a> <strong class="right floated">{{topic.questions}} Questions</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id='popular_ninjas' class="ui teal card" ng-controller='userController'>
                <div class="content">
                    <div class="header">Popular Ninjas <img src="./../images/ninja_turtle.png" alt="" style="float: right"></i>
                    </div>
                </div>
                <div class="content" ng-repeat='user in users | orderBy: "-ninja_stars" | limitTo: 5'>
                    <img class="right floated mini ui image" src="{{user.avatar_url}}">
                    <div class="header">
                        {{user.name}}
                    </div>
                    <div class="metadata">
                         <img src="images/ninjastar.png" height="20"> {{user.ninja_stars}}
                     </div>
                </div>
            </div>
        </div>
    </div>
</div>
